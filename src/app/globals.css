@import "./grid-layout.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Mobile-specific chart and dashboard optimizations */
@layer utilities {
  /* Responsive chart containers */
  .chart-container-mobile {
    @apply w-full overflow-hidden rounded-lg;
    min-height: 200px;
    max-height: 400px;
  }
  
  .chart-container-desktop {
    @apply w-full overflow-hidden rounded-lg;
    min-height: 300px;
  }
  
  /* Mobile touch targets */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
    @apply cursor-pointer select-none;
  }
  
  .touch-target-small {
    min-height: 32px;
    min-width: 32px;
    @apply cursor-pointer select-none;
  }
  
  /* Mobile spacing utilities */
  .mobile-spacing {
    @apply p-3 gap-3;
  }
  
  .desktop-spacing {
    @apply p-6 gap-6;
  }
  
  /* Chart-specific spacing */
  .chart-spacing-mobile {
    @apply p-2 gap-2;
  }
  
  .chart-spacing-desktop {
    @apply p-4 gap-4;
  }
  
  /* Widget spacing utilities */
  .widget-content-mobile {
    @apply p-3 gap-2;
  }
  
  .widget-content-desktop {
    @apply p-5 gap-4;
  }
  
  /* Safe area spacing for mobile */
  .safe-area-mobile {
    padding-top: env(safe-area-inset-top);
    padding-right: env(safe-area-inset-right);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
  }
}

/* Mobile viewport optimizations */
@media (max-width: 768px) {
  /* Prevent horizontal scroll */
  .dashboard-container {
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
  }
  
  /* Chart responsiveness */
  .recharts-wrapper {
    width: 100% !important;
    height: auto !important;
  }
  
  /* Better mobile typography */
  .chart-text {
    font-size: 0.75rem !important;
  }
  
  .chart-legend {
    font-size: 0.6875rem !important;
  }
  
  /* Mobile button spacing */
  .mobile-buttons {
    gap: 8px !important;
    padding: 4px !important;
  }
  
  /* Mobile form spacing */
  .mobile-form {
    gap: 12px !important;
    padding: 16px !important;
  }
  
  /* Widget header spacing */
  .widget-header-mobile {
    padding: 8px 12px !important;
    gap: 8px !important;
  }
  
  /* Touch-friendly interactive elements */
  .mobile-interactive {
    padding: 12px 16px !important;
    margin: 4px 0 !important;
    border-radius: 8px !important;
  }
}

/* Extra small mobile devices */
@media (max-width: 480px) {
  /* Tighter spacing for very small screens */
  .mobile-spacing {
    @apply p-2 gap-2;
  }
  
  .chart-spacing-mobile {
    @apply p-1 gap-1;
  }
  
  .widget-content-mobile {
    @apply p-2 gap-1;
  }
  
  /* Smaller buttons on very small screens */
  .touch-target {
    min-height: 40px;
    min-width: 40px;
  }
}

@layer base {
  :root {
    --background: 210 20% 95%;
    --foreground: 224 71.4% 4.1%;
    --card: 0 0% 100%;
    --card-foreground: 224 71.4% 4.1%;
    --popover: 0 0% 100%;
    --popover-foreground: 224 71.4% 4.1%;
    --primary: 210 60% 50%;
    --primary-foreground: 0 0% 100%;
    --secondary: 220 14.3% 95.9%;
    --secondary-foreground: 220.9 39.3% 11%;
    --muted: 220 14.3% 95.9%;
    --muted-foreground: 220 8.9% 46.1%;
    --accent: 180 50% 50%;
    --accent-foreground: 210 20% 98%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 210 60% 50%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.75rem;
    --sidebar-background: 222.2 47.4% 10.2%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 210 40% 98%;
    --sidebar-primary-foreground: 222.2 47.4% 11.2%;
    --sidebar-accent: 217.2 32.6% 17.5%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 217.2 32.6% 17.5%;
    --sidebar-ring: 212.7 26.8% 83.9%;
    --color-1: oklch(66.2% 0.225 25.9);
    --color-2: oklch(60.4% 0.26 302);
    --color-3: oklch(69.6% 0.165 251);
    --color-4: oklch(80.2% 0.134 225);
    --color-5: oklch(90.7% 0.231 133);
  }
  .theme {
    --animate-shimmer-slide: shimmer-slide var(--speed) ease-in-out infinite alternate;
    --animate-spin-around: spin-around calc(var(--speed) * 2) infinite linear;
    --animate-pulse: pulse var(--duration) ease-out infinite;
    --animate-rainbow: rainbow var(--speed, 2s) infinite linear;
  }
  .dark {
    --color-1: oklch(66.2% 0.225 25.9);
    --color-2: oklch(60.4% 0.26 302);
    --color-3: oklch(69.6% 0.165 251);
    --color-4: oklch(80.2% 0.134 225);
    --color-5: oklch(90.7% 0.231 133);
  }
}

@layer base {
  * {
    @apply border-border;
    box-sizing: border-box;
  }
  html, body {
    @apply bg-background text-foreground;
    overflow-x: hidden;
    max-width: 100vw;
  }
  
  /* Prevent horizontal overflow globally */
  .container, .card, .widget {
    max-width: 100%;
    box-sizing: border-box;
  }
  
  /* Make tables responsive */
  .table-responsive {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Button positioning fix */
  .fixed-button {
    position: fixed;
    right: 1rem;
    bottom: 1.5rem;
    z-index: 9999;
  }
  
  @media (max-width: 768px) {
    .fixed-button {
      bottom: 5rem; /* Above mobile navigation */
    }
  }
}

@theme inline {
  @keyframes shimmer-slide {
  to {
    transform: translate(calc(100cqw - 100%), 0);
    }
  }
  @keyframes spin-around {
  0% {
    transform: translateZ(0) rotate(0);
    }
  15%, 35% {
    transform: translateZ(0) rotate(90deg);
    }
  65%, 85% {
    transform: translateZ(0) rotate(270deg);
    }
  100% {
    transform: translateZ(0) rotate(360deg);
    }
  }
  @keyframes pulse {
  0%, 100% {
    boxShadow: 0 0 0 0 var(--pulse-color);
    }
  50% {
    boxShadow: 0 0 0 8px var(--pulse-color);
    }
  }
  @keyframes rainbow {
  0% {
    background-position: 0%;
    }
  100% {
    background-position: 200%;
    }
  }
}

/* Mobile-specific utilities */
@layer utilities {
  /* Touch target helpers */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }
  
  .touch-target-large {
    @apply min-h-[48px] min-w-[48px];
  }
  
  /* Touch feedback */
  .touch-feedback {
    @apply active:scale-95 transition-transform duration-100;
  }
  
  .touch-highlight {
    @apply select-none touch-manipulation;
  }
  
  /* Mobile-friendly scrolling */
  .scroll-mobile {
    @apply scroll-smooth overscroll-y-contain;
  }
  
  /* Hide scrollbars on mobile */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  /* Mobile-safe text overflow */
  .text-truncate-mobile {
    @apply truncate max-w-full;
  }
  
  /* Touch-friendly spacing */
  .mobile-spacing {
    @apply p-4 sm:p-6;
  }
  
  /* Mobile-first responsive containers */
  .mobile-container {
    @apply w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl xl:max-w-2xl mx-auto;
  }
  
  /* Mobile typography scale adjustments */
  .mobile-text-xs {
    @apply text-xs sm:text-sm;
  }
  
  .mobile-text-sm {
    @apply text-sm sm:text-base;
  }
  
  .mobile-text-base {
    @apply text-base sm:text-lg;
  }
  
  .mobile-text-lg {
    @apply text-lg sm:text-xl;
  }
  
  .mobile-text-xl {
    @apply text-xl sm:text-2xl;
  }
  
  .mobile-text-2xl {
    @apply text-2xl sm:text-3xl;
  }
  
  .mobile-text-3xl {
    @apply text-3xl sm:text-4xl;
  }
  
  /* Mobile-optimized line heights */
  .mobile-leading-tight {
    @apply leading-tight sm:leading-snug;
  }
  
  .mobile-leading-normal {
    @apply leading-normal sm:leading-relaxed;
  }
  
  /* Mobile-friendly letter spacing */
  .mobile-tracking-tight {
    @apply tracking-tight sm:tracking-normal;
  }
  
  .mobile-tracking-normal {
    @apply tracking-normal sm:tracking-wide;
  }
  
  /* Mobile heading hierarchy */
  .mobile-h1 {
    @apply text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mobile-leading-tight;
  }
  
  .mobile-h2 {
    @apply text-xl sm:text-2xl md:text-3xl lg:text-4xl font-semibold mobile-leading-tight;
  }
  
  .mobile-h3 {
    @apply text-lg sm:text-xl md:text-2xl lg:text-3xl font-medium mobile-leading-tight;
  }
  
  .mobile-h4 {
    @apply text-base sm:text-lg md:text-xl lg:text-2xl font-medium mobile-leading-normal;
  }
  
  .mobile-h5 {
    @apply text-sm sm:text-base md:text-lg lg:text-xl font-medium mobile-leading-normal;
  }
  
  .mobile-h6 {
    @apply text-xs sm:text-sm md:text-base lg:text-lg font-medium mobile-leading-normal;
  }
  
  /* Mobile body text */
  .mobile-body {
    @apply text-sm sm:text-base mobile-leading-normal;
  }
  
  .mobile-body-small {
    @apply text-xs sm:text-sm mobile-leading-normal;
  }
  
  /* Mobile caption text */
  .mobile-caption {
    @apply text-xs sm:text-sm text-muted-foreground mobile-leading-normal;
  }
  
  /* Mobile button text */
  .mobile-button-text {
    @apply text-sm sm:text-base font-medium mobile-leading-normal;
  }
  
  /* Mobile label text */
  .mobile-label {
    @apply text-xs sm:text-sm font-medium mobile-leading-normal;
  }
  
  /* Mobile accessibility - larger text when system preference is set */
  @media (prefers-reduced-motion: no-preference) {
    .mobile-text-responsive {
      font-size: clamp(0.875rem, 2.5vw, 1.125rem);
    }
  }
  
  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .mobile-text-high-contrast {
      @apply font-semibold;
    }
  }
  
  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .mobile-text-no-animation {
      @apply transition-none;
    }
  }
}